---
phase: 09-design-system-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/package.json
  - apps/web/components.json
  - apps/web/app/globals.css
autonomous: true
requirements: [COMP-01]

must_haves:
  truths:
    - "Shadcn CLI has been initialized and components.json exists in apps/web/"
    - "@radix-ui/colors and tw-animate-css are installed in apps/web"
    - "The dev server compiles without errors after init"
  artifacts:
    - path: "apps/web/components.json"
      provides: "Shadcn component registry configuration"
      contains: "new-york"
    - path: "apps/web/package.json"
      provides: "Dependency declarations"
      contains: "@radix-ui/colors"
  key_links:
    - from: "apps/web/components.json"
      to: "apps/web/lib/utils.ts"
      via: "aliases.utils field"
      pattern: "@/lib/utils"
    - from: "apps/web/components.json"
      to: "apps/web/app/globals.css"
      via: "tailwind.css field"
      pattern: "app/globals.css"
---

<objective>
Initialize Shadcn UI CLI for the Next.js 15 + Tailwind v4 app and install color/animation foundation dependencies.

Purpose: Establishes the Shadcn component registry (components.json) and installs @radix-ui/colors and tw-animate-css before any component or color migration work begins. All downstream plans depend on this infrastructure existing.

Output: components.json in apps/web/, @radix-ui/colors and tw-animate-css in apps/web/package.json, and a compilable project baseline.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-design-system-foundation/09-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install foundation dependencies</name>
  <files>apps/web/package.json</files>
  <action>
From the REPO ROOT (/home/doctor/fernandomillan), run the following commands in sequence:

```bash
# Install Radix Colors CSS foundation
npm install @radix-ui/colors --workspace=apps/web

# Install tw-animate-css (Shadcn Tailwind v4 animation library — replaces deprecated tailwindcss-animate)
npm install tw-animate-css --workspace=apps/web
```

After install, verify both packages appear in apps/web/package.json under "dependencies".

Also verify the CSS files exist:
```bash
ls apps/web/node_modules/@radix-ui/colors/blue.css
ls apps/web/node_modules/@radix-ui/colors/blue-dark.css
```

If the files are not in apps/web/node_modules (npm may hoist to root), verify they exist at root:
```bash
ls node_modules/@radix-ui/colors/blue.css
```
Either location works for CSS @import resolution.
  </action>
  <verify>
```bash
grep "@radix-ui/colors" apps/web/package.json
grep "tw-animate-css" apps/web/package.json
# Both should appear in dependencies
```
  </verify>
  <done>Both @radix-ui/colors and tw-animate-css appear in apps/web/package.json dependencies, and CSS files are accessible from node_modules.</done>
</task>

<task type="auto">
  <name>Task 2: Initialize Shadcn UI CLI</name>
  <files>apps/web/components.json, apps/web/app/globals.css</files>
  <action>
From the REPO ROOT (/home/doctor/fernandomillan), run:

```bash
npx shadcn@latest init -c ./apps/web -y
```

The `-c ./apps/web` flag tells the CLI to treat apps/web as the project root. The `-y` flag accepts all defaults.

**Critical: What init does and does NOT do:**
- DOES create: `apps/web/components.json` (the main artifact we need)
- DOES update: `apps/web/app/globals.css` with Shadcn's HSL-based variable stubs
- DOES add: any missing dependencies to apps/web/package.json
- Does NOT: create a correct Radix Colors globals.css — that happens in Plan 02

**After init runs, verify components.json content:**
The file should have:
- `"style": "new-york"` (NOT "default" — new-york is the 2025 standard)
- `"rsc": true`
- `"tailwind": { "css": "app/globals.css", "cssVariables": true }`
- `"aliases": { "utils": "@/lib/utils", "ui": "@/components/ui" }`
- `"iconLibrary": "lucide"`

If init generated `"style": "default"`, manually update components.json to `"style": "new-york"`.

**Do NOT worry about globals.css content after init** — Plan 02 will completely replace it with the Radix Colors structure. The init-generated globals.css is a starting reference only.

After init, verify the dev server still compiles:
```bash
# Check docker containers are running first
docker ps | grep fernandomillan

# If dev server available, check for compilation errors in the server output
# Otherwise verify by checking that TypeScript compiles:
cd apps/web && npx tsc --noEmit 2>&1 | head -20
```
  </action>
  <verify>
```bash
# Verify components.json exists
cat apps/web/components.json

# Verify it has required fields
grep '"new-york"' apps/web/components.json
grep '"@/lib/utils"' apps/web/components.json
grep '"@/components/ui"' apps/web/components.json
```
  </verify>
  <done>apps/web/components.json exists with style "new-york", correct alias paths pointing to @/lib/utils and @/components/ui, and cssVariables: true.</done>
</task>

</tasks>

<verification>
1. `cat apps/web/components.json` — shows valid Shadcn config with new-york style
2. `grep "@radix-ui/colors" apps/web/package.json` — package is listed as dependency
3. `grep "tw-animate-css" apps/web/package.json` — package is listed as dependency
4. `ls apps/web/components/ui/` — directory may exist (from init) or not — either is fine at this stage
5. TypeScript compiles without new errors: `cd apps/web && npx tsc --noEmit 2>&1 | head -5`
</verification>

<success_criteria>
- components.json exists in apps/web/ with new-york style and correct alias configuration
- @radix-ui/colors appears in apps/web/package.json dependencies
- tw-animate-css appears in apps/web/package.json dependencies
- Project TypeScript still compiles (no new type errors introduced by init)
</success_criteria>

<output>
After completion, create `.planning/phases/09-design-system-foundation/09-01-SUMMARY.md` following the template at @/home/doctor/.claude/get-shit-done/templates/summary.md
</output>
