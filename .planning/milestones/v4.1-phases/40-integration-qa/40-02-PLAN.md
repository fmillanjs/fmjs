---
phase: 40-integration-qa
plan: 02
type: execute
wave: 2
depends_on: ["40-01"]
files_modified:
  - apps/web/app/(portfolio)/projects/teamflow/page.tsx
  - apps/web/app/(portfolio)/projects/devcollab/page.tsx
autonomous: true
requirements: [INTG-01, INTG-02]

must_haves:
  truths:
    - "Visiting /projects/teamflow shows WalkthroughSection with all 5 TeamFlow screenshots and callout overlays"
    - "Visiting /projects/devcollab shows WalkthroughSection with all 5 DevCollab screenshots and callout overlays"
    - "WalkthroughSection appears after the main project description on both pages"
    - "Section title prop is 'App Walkthrough' on both pages"
    - "Build succeeds with zero TypeScript errors after integration"
  artifacts:
    - path: "apps/web/app/(portfolio)/projects/teamflow/page.tsx"
      provides: "WalkthroughSection integrated into TeamFlow case study"
      contains: "WalkthroughSection"
    - path: "apps/web/app/(portfolio)/projects/devcollab/page.tsx"
      provides: "WalkthroughSection integrated into DevCollab case study"
      contains: "WalkthroughSection"
  key_links:
    - from: "apps/web/app/(portfolio)/projects/teamflow/page.tsx"
      to: "apps/web/src/data/walkthrough-data.ts"
      via: "import TEAMFLOW_WALKTHROUGH_SCREENSHOTS"
      pattern: "TEAMFLOW_WALKTHROUGH_SCREENSHOTS"
    - from: "apps/web/app/(portfolio)/projects/devcollab/page.tsx"
      to: "apps/web/src/data/walkthrough-data.ts"
      via: "import DEVCOLLAB_WALKTHROUGH_SCREENSHOTS"
      pattern: "DEVCOLLAB_WALKTHROUGH_SCREENSHOTS"
    - from: "apps/web/app/(portfolio)/projects/teamflow/page.tsx"
      to: "apps/web/components/portfolio/walkthrough-section.tsx"
      via: "import WalkthroughSection"
      pattern: "WalkthroughSection"
---

<objective>
Wire WalkthroughSection into both case study pages (TeamFlow and DevCollab) using the typed data from 40-01.

Purpose: This is the core integration — recruiters visiting /projects/teamflow and /projects/devcollab will see the annotated screenshot walkthroughs that narrate each app's workflow.
Output: Both page files updated with WalkthroughSection placed after the main description sections.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/40-integration-qa/40-CONTEXT.md
@.planning/phases/39-walkthrough-component/39-01-SUMMARY.md
@.planning/phases/40-integration-qa/40-01-SUMMARY.md

# Source files to modify
@apps/web/app/(portfolio)/projects/teamflow/page.tsx
@apps/web/app/(portfolio)/projects/devcollab/page.tsx
</context>

<interfaces>
<!-- Key imports and types the executor will use. No codebase exploration needed. -->

From apps/web/components/portfolio/walkthrough-section.tsx:
```typescript
// Named export — import as:
import { WalkthroughSection } from '@/components/portfolio/walkthrough-section'
// Props:
// title?: string  (use "App Walkthrough")
// screenshots: WalkthroughScreenshot[]
```

From apps/web/src/data/walkthrough-data.ts (created in 40-01):
```typescript
import { TEAMFLOW_WALKTHROUGH_SCREENSHOTS } from '@/data/walkthrough-data'
import { DEVCOLLAB_WALKTHROUGH_SCREENSHOTS } from '@/data/walkthrough-data'
```

Existing page structure (both pages):
- Both pages are Server Components (no 'use client' directive)
- Both pages have a CaseStudySection for "Screenshots" currently showing a 2-column grid of 2 static images
- WalkthroughSection must be placed AFTER the existing "Screenshots" section (or replace it — see action for exact placement)
- Both pages import: Metadata, Link, Image, CaseStudySection, AnimateIn, Button, ExternalLink, Github

Note: WalkthroughSection is a Client Component ('use client' at top of walkthrough-section.tsx). It can be used in Server Component pages — Next.js handles this automatically.
</interfaces>

<tasks>

<task type="auto">
  <name>Task 1: Integrate WalkthroughSection into TeamFlow case study</name>
  <files>apps/web/app/(portfolio)/projects/teamflow/page.tsx</files>
  <action>
Modify `apps/web/app/(portfolio)/projects/teamflow/page.tsx`:

1. Add imports at the top (after existing imports):
   ```typescript
   import { WalkthroughSection } from '@/components/portfolio/walkthrough-section'
   import { TEAMFLOW_WALKTHROUGH_SCREENSHOTS } from '@/data/walkthrough-data'
   ```

2. Locate the existing `{/* Screenshots */}` CaseStudySection block (lines ~457-480). It renders a 2-column grid with 2 static images. REPLACE this entire CaseStudySection block with a `WalkthroughSection`:
   ```tsx
   {/* App Walkthrough */}
   <WalkthroughSection title="App Walkthrough" screenshots={TEAMFLOW_WALKTHROUGH_SCREENSHOTS} />
   ```

   Per user decision from 40-CONTEXT.md: "WalkthroughSection appears after the main project description on both case study pages." The existing Screenshots section is a reasonable placement — replacing it avoids duplication of screenshot assets and keeps the page focused.

3. Remove the `Image` import if it is now unused (check if Image is used elsewhere in the file — it IS still used inside CaseStudySection for other things... actually Image is not used in any other section besides the old Screenshots section, so check and remove the `Image` import if unused after the change).

Do NOT modify any other section. Do NOT change metadata, the header, Overview, Problem, Solution, Architecture, Key Technical Decisions, Challenges & Solutions, or Results sections.
  </action>
  <verify>
    <automated>cd /home/doctor/fernandomillan && npx tsc --noEmit -p apps/web/tsconfig.json 2>&1 | grep -E "teamflow/page|error TS" | head -20</automated>
  </verify>
  <done>TeamFlow page imports WalkthroughSection and TEAMFLOW_WALKTHROUGH_SCREENSHOTS. The old Screenshots CaseStudySection is replaced by WalkthroughSection with title="App Walkthrough". TypeScript compiles with no errors on this file.</done>
</task>

<task type="auto">
  <name>Task 2: Integrate WalkthroughSection into DevCollab case study</name>
  <files>apps/web/app/(portfolio)/projects/devcollab/page.tsx</files>
  <action>
Modify `apps/web/app/(portfolio)/projects/devcollab/page.tsx`:

1. Add imports at the top (after existing imports):
   ```typescript
   import { WalkthroughSection } from '@/components/portfolio/walkthrough-section'
   import { DEVCOLLAB_WALKTHROUGH_SCREENSHOTS } from '@/data/walkthrough-data'
   ```

2. Locate the existing `{/* Screenshots */}` CaseStudySection block (lines ~355-378). It renders a 2-column grid with 2 static images. REPLACE this entire CaseStudySection block with:
   ```tsx
   {/* App Walkthrough */}
   <WalkthroughSection title="App Walkthrough" screenshots={DEVCOLLAB_WALKTHROUGH_SCREENSHOTS} />
   ```

3. Remove the `Image` import if it is now unused after removing the static screenshot grid (check the full file — Image may or may not be used elsewhere).

Do NOT modify any other section. Do NOT change the `DEVCOLLAB_URL` constant, metadata, header, Overview, Problem, Architecture, Key Technical Decisions, Challenges & Solutions, or Results sections.
  </action>
  <verify>
    <automated>cd /home/doctor/fernandomillan && npx tsc --noEmit -p apps/web/tsconfig.json 2>&1 | grep -E "devcollab/page|error TS" | head -20</automated>
  </verify>
  <done>DevCollab page imports WalkthroughSection and DEVCOLLAB_WALKTHROUGH_SCREENSHOTS. The old Screenshots CaseStudySection is replaced by WalkthroughSection with title="App Walkthrough". TypeScript compiles with no errors on this file.</done>
</task>

<task type="auto">
  <name>Task 3: Full build verification</name>
  <files></files>
  <action>
Run the Next.js build to confirm the integration compiles end-to-end with no errors:

```bash
cd /home/doctor/fernandomillan && npx turbo build --filter=web 2>&1 | tail -40
```

Note: There is a pre-existing build failure in `apps/web/e2e/screenshots/devcollab-capture.ts` (match[1] type mismatch — confirmed pre-existing in Phase 38/39). If that error appears, it is expected and does NOT indicate a regression. The build passes if there are no NEW errors in the pages or data files.

If the build fails due to the integration (not the pre-existing e2e issue), investigate and fix before completing.
  </action>
  <verify>
    <automated>cd /home/doctor/fernandomillan && npx turbo build --filter=web 2>&1 | grep -E "Build complete|Failed to compile|error TS|compiled successfully" | head -10</automated>
  </verify>
  <done>Next.js build completes (Build complete / compiled successfully). The only allowed failure is the pre-existing devcollab-capture.ts e2e script type error which is out of scope.</done>
</task>

</tasks>

<verification>
- Both page files import WalkthroughSection and the correct walkthrough screenshots array
- Both pages render WalkthroughSection with title="App Walkthrough"
- Old static Screenshots grids are removed (no duplicate image display)
- TypeScript compiles with no errors on either page file
- `npx turbo build --filter=web` succeeds (excluding known pre-existing e2e failure)
</verification>

<success_criteria>
- `/projects/teamflow` JSX contains `<WalkthroughSection title="App Walkthrough" screenshots={TEAMFLOW_WALKTHROUGH_SCREENSHOTS} />`
- `/projects/devcollab` JSX contains `<WalkthroughSection title="App Walkthrough" screenshots={DEVCOLLAB_WALKTHROUGH_SCREENSHOTS} />`
- Build succeeds
- INTG-01 and INTG-02 are satisfied: both pages show the walkthrough section
</success_criteria>

<output>
After completion, create `.planning/phases/40-integration-qa/40-02-SUMMARY.md`
</output>
