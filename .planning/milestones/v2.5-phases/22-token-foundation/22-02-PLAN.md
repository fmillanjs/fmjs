---
phase: 22-token-foundation
plan: "02"
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/package.json
autonomous: true
requirements:
  - THEME-03

must_haves:
  truths:
    - "motion, gsap, @gsap/react, and lenis appear in apps/web/package.json dependencies"
    - "No other workspace package.json (apps/teamflow-api, packages/*) contains these packages"
    - "The monorepo lockfile reflects the four new packages"
  artifacts:
    - path: "apps/web/package.json"
      provides: "Animation library dependencies scoped to web workspace"
      contains: "\"motion\""
  key_links:
    - from: "apps/web/package.json"
      to: "node_modules in apps/web"
      via: "npm workspace install"
      pattern: "motion|gsap|lenis"
---

<objective>
Install the four animation libraries (`motion` v12, `gsap`, `@gsap/react`, `lenis`) scoped exclusively to the `apps/web` workspace.

Purpose: Phase 23 (canvas), Phase 24 (scroll animations), and Phase 25 (personality effects) all import from these libraries. They must be present in the lockfile before those phases execute. Workspace-scoped install ensures the libraries never contaminate TeamFlow API or DevCollab bundles.

Output: Four new entries in `apps/web/package.json` dependencies and corresponding lockfile entries.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-token-foundation/22-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install animation packages workspace-scoped to apps/web</name>
  <files>apps/web/package.json</files>
  <action>
    From the monorepo root (`/home/doctor/fernandomillan`), run:

    ```bash
    npm install motion gsap @gsap/react lenis --workspace apps/web
    ```

    CRITICAL constraints:
    - Run from the repo root, NOT from inside `apps/web` — workspace flag requires root context
    - Use `--workspace apps/web` (NOT `--workspaces` plural) to target only the web app
    - Do NOT use `--save-dev` — these are runtime dependencies used in client components
    - Package `motion` (NOT `framer-motion`) — the import path in code is `motion/react`, not `framer-motion`
    - Exact versions researched: motion@12.34.2, gsap@3.14.2, @gsap/react@2.1.2, lenis@1.3.17 (npm will resolve latest compatible — verify installed versions match or are newer)

    After install completes, verify `apps/web/package.json` shows all four packages in `dependencies`. Verify no other workspace `package.json` was modified.
  </action>
  <verify>
    Run these checks from the repo root:
    1. `cat apps/web/package.json | grep -E '"motion"|"gsap"|"@gsap/react"|"lenis"'` — all four must appear
    2. `cat apps/teamflow-api/package.json 2>/dev/null | grep -E '"motion"|"gsap"|"lenis"'` — must return empty
    3. `node -e "require('./apps/web/node_modules/motion')"` OR verify `ls apps/web/node_modules/motion` exists
    4. `npm run build --workspace apps/web` from repo root — confirm build passes with new packages present
  </verify>
  <done>All four animation libraries (`motion`, `gsap`, `@gsap/react`, `lenis`) appear in `apps/web/package.json` dependencies. No other workspace package.json was modified. Build passes.</done>
</task>

</tasks>

<verification>
1. `grep -E '"motion"|"gsap"|"@gsap/react"|"lenis"' apps/web/package.json` returns 4 matches
2. Other workspace package.json files do not contain these packages
3. `npm run build --workspace apps/web` passes without errors
</verification>

<success_criteria>
- `motion`, `gsap`, `@gsap/react`, and `lenis` present in `apps/web/package.json` dependencies
- No contamination of other workspace package.json files
- Build passes
- Root lockfile (`package-lock.json`) updated with the four new packages
</success_criteria>

<output>
After completion, create `.planning/phases/22-token-foundation/22-02-SUMMARY.md`
</output>
