---
phase: 33-footer-redesign-matrix-animation
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/components/portfolio/footer.tsx
  - apps/web/app/globals.css
autonomous: true
requirements:
  - FOOTER-01
  - FOOTER-02
  - FOOTER-03
  - FOOTER-04

must_haves:
  truths:
    - "Footer shows #0a0a0a background with a Matrix green top border — no bg-muted gray visible"
    - "Social links render as terminal-prompt text: '> github', '> linkedin', '> email' in monospace Matrix green"
    - "A '> EOF' tagline appears between the social link columns and the copyright line"
    - "CRT scanline texture overlays the footer via CSS ::before — no JS, no canvas"
    - "All footer content (nav links, social links, copyright) renders above the scanline overlay"
  artifacts:
    - path: "apps/web/components/portfolio/footer.tsx"
      provides: "Terminal-themed footer static shell"
      contains: "#0a0a0a"
    - path: "apps/web/app/globals.css"
      provides: "CRT scanline CSS rule + glitch keyframes"
      contains: ".footer-crt-scanlines::before"
  key_links:
    - from: "apps/web/components/portfolio/footer.tsx"
      to: "apps/web/app/globals.css"
      via: "footer-crt-scanlines CSS class applied to <footer> element"
      pattern: "footer-crt-scanlines"
    - from: "apps/web/app/globals.css"
      to: ".footer-crt-scanlines::before"
      via: "repeating-linear-gradient with --matrix-scan-line token"
      pattern: "repeating-linear-gradient"
---

<objective>
Redesign the portfolio footer static shell: replace `bg-muted` with `#0a0a0a` background and `--matrix-green-border` top border; replace icon-only social links with terminal-prompt text links (`> github`, `> linkedin`, `> email`); add `> EOF` narrative tagline; add CRT scanline texture via CSS `::before` pseudo-element in globals.css.

Purpose: Delivers the terminal-themed footer aesthetic (FOOTER-01 through FOOTER-04) as a zero-JS static Server Component. The GlitchSignature client island is wired in Plan 33-02.
Output: Redesigned `footer.tsx` (Server Component) + CSS rules in `globals.css`.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-footer-redesign-matrix-animation/33-RESEARCH.md

# Current footer — full file to understand what to replace
@apps/web/components/portfolio/footer.tsx

# globals.css — understand existing token positions and reduced-motion rule
@apps/web/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add CRT scanline CSS and glitch keyframes to globals.css</name>
  <files>apps/web/app/globals.css</files>
  <action>
    Append two new CSS blocks to globals.css, AFTER the existing `.matrix-theme {}` block and BEFORE any existing `@media` rules.

    Block 1 — CRT scanline pseudo-element rule:
    ```css
    /* FOOTER-04: CRT scanline texture — applied via class on <footer> element */
    /* pointer-events: none prevents scanline overlay from blocking link clicks */
    /* z-index: 0 ensures ::before sits behind z-index: 1 content children */
    .footer-crt-scanlines::before {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        var(--matrix-scan-line) 2px,
        var(--matrix-scan-line) 4px
      );
      pointer-events: none;
      z-index: 0;
    }

    /* Lift all direct footer children above the scanline overlay */
    .footer-crt-scanlines > * {
      position: relative;
      z-index: 1;
    }
    ```

    Block 2 — Glitch keyframe definition (used by Plan 33-02's GlitchSignature):
    ```css
    /* FOOTER-05: Single-fire text glitch animation — transform-only, Safari-safe */
    /* Intentionally placed here (not in .matrix-theme) so the class can be added */
    /* dynamically by GlitchSignature's IntersectionObserver from outside .matrix-theme scope */
    @keyframes footer-glitch {
      0%   { transform: translate(0) skewX(0deg);    opacity: 1; }
      10%  { transform: translate(-3px) skewX(-4deg); opacity: 0.9; }
      20%  { transform: translate(3px) skewX(4deg);   opacity: 1; }
      30%  { transform: translate(-2px) skewX(0deg);  opacity: 0.85; }
      40%  { transform: translate(2px) skewX(2deg);   opacity: 1; }
      50%  { transform: translate(0) skewX(-2deg);    opacity: 0.95; }
      60%  { transform: translate(-1px) skewX(1deg);  opacity: 1; }
      70%  { transform: translate(1px) skewX(-1deg);  opacity: 0.9; }
      80%  { transform: translate(0) skewX(0deg);     opacity: 1; }
      90%  { transform: translate(-1px) skewX(1deg);  opacity: 0.95; }
      100% { transform: translate(0) skewX(0deg);     opacity: 1; }
    }

    /* Class added by IntersectionObserver once on scroll-into-view — never in markup */
    /* animation-iteration-count: 1 via the '1' in the shorthand below */
    .footer-glitch-once {
      animation: footer-glitch 0.6s ease-out 1 forwards;
    }
    ```

    IMPORTANT: Do NOT add these inside `.matrix-theme {}`. The `.footer-crt-scanlines` class must work on the `<footer>` element which is a child of `.matrix-theme` but the CSS must be global-scope to guarantee cascade. The `--matrix-scan-line` token is already defined inside `.matrix-theme` and inherits correctly.

    Verify that the existing `@media (prefers-reduced-motion: reduce)` block near line 232 already covers `animation-duration: 0.01ms !important` — this makes `.footer-glitch-once` effectively invisible for reduced-motion users without any extra code.
  </action>
  <verify>
    Run: `grep -A 10 "footer-crt-scanlines::before" apps/web/app/globals.css`
    Expected: shows `repeating-linear-gradient` with `var(--matrix-scan-line)` and `pointer-events: none`.

    Run: `grep -A 5 "footer-glitch-once" apps/web/app/globals.css`
    Expected: shows `animation: footer-glitch 0.6s ease-out 1 forwards`.

    Run: `grep "footer-glitch" apps/web/app/globals.css | wc -l`
    Expected: at least 13 lines (11 keyframe steps + 1 @keyframes + 1 .footer-glitch-once class).
  </verify>
  <done>
    globals.css contains `.footer-crt-scanlines::before` with `repeating-linear-gradient` using `var(--matrix-scan-line)`, and `.footer-glitch-once` referencing the `footer-glitch` keyframe. No TypeScript errors. No purple used.
  </done>
</task>

<task type="auto">
  <name>Task 2: Redesign footer.tsx as terminal-themed Server Component</name>
  <files>apps/web/components/portfolio/footer.tsx</files>
  <action>
    Replace the entire content of `footer.tsx` with a redesigned terminal-themed Server Component. Keep it as a Server Component (no `'use client'`). Import `dynamic` from `next/dynamic` with a placeholder stub for `GlitchSignature` — the actual island is created in Plan 33-02; for now use a simple `<span className="text-lg font-bold font-mono text-foreground">Fernando Millan</span>` as the fallback until Plan 33-02 creates `glitch-signature.tsx`.

    Exact implementation:

    ```tsx
    import Link from 'next/link';

    export function PortfolioFooter() {
      const currentYear = new Date().getFullYear();

      return (
        <footer
          className="footer-crt-scanlines relative border-t"
          style={{
            background: '#0a0a0a',
            borderTopColor: 'var(--matrix-green-border)',
          }}
        >
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              {/* Column 1: Name and Tagline */}
              <div>
                {/* GlitchSignature island wired in Plan 33-02 */}
                <span className="text-lg font-bold font-mono text-foreground">
                  Fernando Millan
                </span>
                <p className="text-sm text-muted-foreground mt-2">
                  Full-Stack Engineer building production-ready SaaS applications
                </p>
              </div>

              {/* Column 2: Quick Links */}
              <div>
                <h4 className="text-sm font-semibold font-mono text-[var(--matrix-terminal)] mb-3">
                  {'>'} navigation
                </h4>
                <ul className="space-y-2">
                  <li>
                    <Link
                      href="/"
                      className="text-sm text-muted-foreground hover:text-[var(--matrix-green)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--matrix-green)] focus-visible:ring-offset-2 focus-visible:ring-offset-[#0a0a0a] rounded-sm"
                    >
                      Home
                    </Link>
                  </li>
                  <li>
                    <Link
                      href="/about"
                      className="text-sm text-muted-foreground hover:text-[var(--matrix-green)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--matrix-green)] focus-visible:ring-offset-2 focus-visible:ring-offset-[#0a0a0a] rounded-sm"
                    >
                      About
                    </Link>
                  </li>
                  <li>
                    <Link
                      href="/projects"
                      className="text-sm text-muted-foreground hover:text-[var(--matrix-green)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--matrix-green)] focus-visible:ring-offset-2 focus-visible:ring-offset-[#0a0a0a] rounded-sm"
                    >
                      Projects
                    </Link>
                  </li>
                  <li>
                    <Link
                      href="/contact"
                      className="text-sm text-muted-foreground hover:text-[var(--matrix-green)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--matrix-green)] focus-visible:ring-offset-2 focus-visible:ring-offset-[#0a0a0a] rounded-sm"
                    >
                      Contact
                    </Link>
                  </li>
                </ul>
              </div>

              {/* Column 3: Terminal-prompt social links (FOOTER-02) */}
              <div>
                <h4 className="text-sm font-semibold font-mono text-[var(--matrix-terminal)] mb-3">
                  {'>'} connect
                </h4>
                <ul className="space-y-2">
                  <li>
                    <a
                      href="https://github.com/fmillanjs"
                      target="_blank"
                      rel="noopener noreferrer"
                      aria-label="GitHub profile"
                      className="font-mono text-sm text-[var(--matrix-terminal)] hover:text-[var(--matrix-green)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--matrix-green)] focus-visible:ring-offset-2 focus-visible:ring-offset-[#0a0a0a] rounded-sm"
                    >
                      {'>'} github
                    </a>
                  </li>
                  <li>
                    <a
                      href="https://linkedin.com/in/fmillanjs"
                      target="_blank"
                      rel="noopener noreferrer"
                      aria-label="LinkedIn profile"
                      className="font-mono text-sm text-[var(--matrix-terminal)] hover:text-[var(--matrix-green)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--matrix-green)] focus-visible:ring-offset-2 focus-visible:ring-offset-[#0a0a0a] rounded-sm"
                    >
                      {'>'} linkedin
                    </a>
                  </li>
                  <li>
                    <a
                      href="mailto:hello@fernandomillan.dev"
                      aria-label="Email Fernando"
                      className="font-mono text-sm text-[var(--matrix-terminal)] hover:text-[var(--matrix-green)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--matrix-green)] focus-visible:ring-offset-2 focus-visible:ring-offset-[#0a0a0a] rounded-sm"
                    >
                      {'>'} email
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          {/* > EOF tagline — narrative close before copyright (FOOTER-03) */}
          <div className="text-center pb-2">
            <p className="font-mono text-xs text-[var(--matrix-green-border)]">
              {'>'} EOF
            </p>
          </div>

          {/* Copyright */}
          <div className="border-t py-4" style={{ borderColor: 'var(--matrix-green-border)' }}>
            <p className="text-center text-xs font-mono text-muted-foreground">
              &copy; {currentYear} Fernando Millan. All rights reserved.
            </p>
          </div>
        </footer>
      );
    }
    ```

    LinkedIn URL note: The contact page only provides `hello@fernandomillan.dev`. LinkedIn is not in any source file. Use `https://linkedin.com/in/fmillanjs` (matching the GitHub handle `fmillanjs`). If Fernando has a different LinkedIn URL, update after first visual review.

    Do NOT use purple anywhere. Do NOT add `'use client'` to this file. Remove all lucide-react imports (Github, ExternalLink) — they are no longer needed.

    After writing, run: `cd /home/doctor/fernandomillan && npm run build --workspace apps/web 2>&1 | tail -20` to confirm zero TypeScript errors.
  </action>
  <verify>
    Run: `grep "bg-muted" apps/web/components/portfolio/footer.tsx`
    Expected: no output (bg-muted fully removed).

    Run: `grep "footer-crt-scanlines" apps/web/components/portfolio/footer.tsx`
    Expected: one match on the `<footer>` element className.

    Run: `grep "background.*#0a0a0a\|#0a0a0a" apps/web/components/portfolio/footer.tsx`
    Expected: one match in the inline style.

    Run: `grep "> github\|> linkedin\|> email\|> EOF" apps/web/components/portfolio/footer.tsx`
    Expected: 4 matches.

    Run `npm run build --workspace apps/web` from `/home/doctor/fernandomillan`:
    Expected: build succeeds with zero errors.
  </verify>
  <done>
    footer.tsx: `bg-muted` removed, `#0a0a0a` background applied inline, `footer-crt-scanlines` class present, three terminal-prompt social links (`> github`, `> linkedin`, `> email`) in monospace Matrix green, `> EOF` tagline above copyright, focus-visible rings on all links. Build passes with zero TypeScript errors. No purple used.
  </done>
</task>

</tasks>

<verification>
After both tasks:
1. `grep "bg-muted" apps/web/components/portfolio/footer.tsx` — no output
2. `grep "footer-crt-scanlines" apps/web/components/portfolio/footer.tsx` — one match
3. `grep "footer-crt-scanlines::before" apps/web/app/globals.css` — one match
4. `grep "footer-glitch-once" apps/web/app/globals.css` — one match
5. `npm run build --workspace apps/web` — zero errors (run from /home/doctor/fernandomillan)
</verification>

<success_criteria>
- Footer background is `#0a0a0a` with `--matrix-green-border` top border (FOOTER-01)
- Social links are `> github`, `> linkedin`, `> email` in `font-mono text-[var(--matrix-terminal)]` (FOOTER-02)
- `> EOF` tagline appears in `font-mono text-xs text-[var(--matrix-green-border)]` before copyright line (FOOTER-03)
- `.footer-crt-scanlines::before` in globals.css uses `repeating-linear-gradient` with `var(--matrix-scan-line)` and `pointer-events: none` (FOOTER-04)
- Build passes zero TypeScript errors
- No purple used anywhere
</success_criteria>

<output>
After completion, create `.planning/phases/33-footer-redesign-matrix-animation/33-01-SUMMARY.md`
</output>
