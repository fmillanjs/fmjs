---
phase: 12-critical-route-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/components/ui/alert-dialog.tsx
  - apps/web/components/ui/tabs.tsx
  - apps/web/components/ui/popover.tsx
  - apps/web/package.json
autonomous: true
requirements:
  - COMP-04
  - MIG-02

must_haves:
  truths:
    - "AlertDialog component renders and is importable from @/components/ui/alert-dialog"
    - "Tabs component renders and is importable from @/components/ui/tabs"
    - "Popover component renders and is importable from @/components/ui/popover"
    - "TypeScript resolves @radix-ui/react-alert-dialog, @radix-ui/react-tabs, @radix-ui/react-popover with no module-not-found errors"
  artifacts:
    - path: "apps/web/components/ui/alert-dialog.tsx"
      provides: "AlertDialog + all named exports"
      contains: "AlertDialog"
    - path: "apps/web/components/ui/tabs.tsx"
      provides: "Tabs + TabsList + TabsTrigger + TabsContent"
      contains: "Tabs"
    - path: "apps/web/components/ui/popover.tsx"
      provides: "Popover + PopoverTrigger + PopoverContent"
      contains: "Popover"
  key_links:
    - from: "apps/web/components/ui/alert-dialog.tsx"
      to: "@radix-ui/react-alert-dialog"
      via: "import"
      pattern: "react-alert-dialog"
    - from: "apps/web/package.json"
      to: "@radix-ui/react-tabs"
      via: "dependency entry"
      pattern: "radix-ui/react-tabs"
---

<objective>
Install the three Shadcn UI components that are missing from the project: AlertDialog, Tabs, and Popover. These are prerequisites for every other plan in Phase 12 — no migration task can begin until these components are available.

Purpose: Unblock all wave-2 migration plans. AlertDialog handles destructive confirmations (MIG-02, COMP-04). Tabs handles TaskDetailPanel and ProjectList tab UIs (MIG-02). Popover handles TaskFilters dropdowns (MIG-02).
Output: Three new files in apps/web/components/ui/, package.json updated with three Radix packages, npm install completed inside the running Docker container.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-critical-route-migration/12-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install alert-dialog, tabs, and popover via Shadcn CLI inside Docker</name>
  <files>
    apps/web/components/ui/alert-dialog.tsx
    apps/web/components/ui/tabs.tsx
    apps/web/components/ui/popover.tsx
    apps/web/package.json
  </files>
  <action>
    The project runs in Docker. Follow this exact sequence:

    1. Check which Docker container is running the web service:
       `docker ps | grep web`
       Look for the container running the Next.js app (likely named fernandomillan-web-1 or similar).

    2. Run the Shadcn add command from the host machine (it writes files to the mounted volume):
       From /home/doctor/fernandomillan/apps/web:
       `npx shadcn@latest add alert-dialog tabs popover --yes`
       If prompted for overwrite confirmation, answer yes.

    3. After shadcn add completes, run npm install inside the running Docker container to install the new Radix packages:
       `docker exec <container-name> npm install`
       where <container-name> is the web container from step 1.
       If node_modules is NOT volume-mounted (exec fails), rebuild the container:
       `docker compose -f docker-compose.dev.yml up -d --build web`

    4. Verify the three new component files exist:
       - apps/web/components/ui/alert-dialog.tsx
       - apps/web/components/ui/tabs.tsx
       - apps/web/components/ui/popover.tsx

    5. Verify package.json has the three new entries:
       @radix-ui/react-alert-dialog, @radix-ui/react-tabs, @radix-ui/react-popover

    Important: Do NOT manually create these component files. Always use the shadcn CLI to generate them — this ensures correct Radix version pinning, the new-york style variant, and Tailwind v4 compatibility.
  </action>
  <verify>
    1. `ls apps/web/components/ui/alert-dialog.tsx apps/web/components/ui/tabs.tsx apps/web/components/ui/popover.tsx` — all three files exist
    2. `grep -E "@radix-ui/react-(alert-dialog|tabs|popover)" apps/web/package.json` — all three packages present
    3. From the web container (or host if using host-mode): `npx tsc --noEmit` in apps/web should show no new errors related to missing Radix modules
  </verify>
  <done>Three UI component files exist in apps/web/components/ui/. package.json lists all three Radix packages. TypeScript can resolve imports from each component file without module-not-found errors.</done>
</task>

</tasks>

<verification>
After completing this plan:
- `ls apps/web/components/ui/ | grep -E "(alert-dialog|tabs|popover)"` returns three file names
- `grep "@radix-ui/react-alert-dialog" apps/web/package.json` returns a match
- The Docker web container restarts without TypeScript compile errors
</verification>

<success_criteria>
All three Shadcn components (AlertDialog, Tabs, Popover) are installed and importable. No TypeScript module resolution errors. Wave-2 plans can proceed.
</success_criteria>

<output>
After completion, create `.planning/phases/12-critical-route-migration/12-01-SUMMARY.md`
</output>
