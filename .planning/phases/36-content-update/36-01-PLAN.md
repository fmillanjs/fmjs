---
phase: 36-content-update
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/app/(portfolio)/projects/devcollab/page.tsx
autonomous: true
requirements:
  - CONT-01

must_haves:
  truths:
    - "Recruiter reading the DevCollab case study sees no mention of Tiptap — only react-markdown and Shiki are listed"
    - "All feature descriptions in the DevCollab case study match what is actually deployed (snippets, posts, search, reactions, notifications)"
    - "The metric cards show accurate numbers (v2.0, 7 Feature Phases, 3 Demo Roles) or are replaced with verified numbers"
    - "The Key Technical Decisions table no longer claims Tiptap v3 — it accurately reflects the react-markdown + Shiki approach for post rendering"
    - "Results section Technologies list replaces Tiptap with react-markdown"
  artifacts:
    - path: "apps/web/app/(portfolio)/projects/devcollab/page.tsx"
      provides: "DevCollab case study page with accurate copy"
      contains: "react-markdown"
  key_links:
    - from: "apps/web/app/(portfolio)/projects/devcollab/page.tsx"
      to: "live app at devcollab.fernandomillan.me"
      via: "copy describes what recruiter actually sees"
      pattern: "react-markdown"
---

<objective>
Rewrite the DevCollab case study JSX to remove all Tiptap references and correct the copy to accurately describe what was actually shipped.

Purpose: The DevCollab case study currently claims "Tiptap v3 with immediatelyRender: false" in the Key Technical Decisions table and lists "Tiptap editor" in the features list. However, devcollab-web/package.json contains react-markdown, not Tiptap. The case study copy must match the deployed codebase — a recruiter who reads "Tiptap v3" and then inspects the source code will find the claim is false, destroying credibility.

Output: Updated devcollab/page.tsx with accurate technology references throughout.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@apps/web/app/(portfolio)/projects/devcollab/page.tsx
</context>

<interfaces>
<!-- Key facts confirmed from codebase audit. Executor must NOT explore further — use these directly. -->

**DevCollab actual dependencies (from apps/devcollab-web/package.json):**
- react-markdown ^10.1.0 (post rendering)
- react-syntax-highlighter ^16.1.0
- remark-gfm ^4.0.1
- shiki ^3.22.0 (syntax highlighting)
- NO Tiptap present in devcollab-web or devcollab-api

**DevCollab actual API modules (from apps/devcollab-api/src/):**
- activity, auth, comments, common, core, guards, health, notifications, posts, reactions, search, snippets, workspaces
- All match the case study features list — no inaccuracies there

**Current inaccuracies to fix:**
1. Line 108: `Markdown posts with Tiptap editor and Shiki server-side rendering` → should say `Markdown posts with react-markdown and Shiki server-side rendering`
2. Key Technical Decisions table row: "Tiptap v3 with immediatelyRender: false" → replace with accurate decision about react-markdown + Shiki SSR pattern
3. Results section Technologies list line 377: `Tiptap v3 rich text editor` → `react-markdown for Markdown rendering`
4. Results section Features list line 365: `Markdown posts (Tiptap editor + SSR rendering)` → `Markdown posts (react-markdown + Shiki SSR)`

**What is accurate and must be kept:**
- All architecture diagrams (correct)
- Three challenges descriptions (correct)
- Metric cards: v2.0, 7 Feature Phases, 3 Demo Roles — these are reasonable (DevCollab had 8 dev phases 14-21; "7 Feature Phases" rounds appropriately; keep as is)
- Demo credentials: admin@demo.devcollab / Demo1234!, contributor@demo.devcollab / Demo1234!, viewer@demo.devcollab / Demo1234!
- CASL deny-by-default guard decision (accurate)
- Postgres tsvector decision (accurate)
- Dedicated migrate Docker service decision (accurate)
- Shiki server-side decision (accurate)
</interfaces>

<tasks>

<task type="auto">
  <name>Task 1: Remove Tiptap references and correct DevCollab case study copy</name>
  <files>apps/web/app/(portfolio)/projects/devcollab/page.tsx</files>
  <action>
Edit apps/web/app/(portfolio)/projects/devcollab/page.tsx to replace all Tiptap references with accurate technology descriptions. Make exactly these changes:

**1. Overview section feature list (around line 108):**
Change:
`Markdown posts with Tiptap editor and Shiki server-side rendering`
To:
`Markdown posts with react-markdown rendering and Shiki server-side syntax highlighting`

**2. Key Technical Decisions table — replace the entire Tiptap v3 row:**
The current row has:
- Decision cell: "Tiptap v3 with immediatelyRender: false" / "for Markdown editing"
- Rationale: "Tiptap v3 + Next.js 15 App Router SSR has hydration edge cases. Setting immediatelyRender: false prevents mismatches. Validated with next build + next start before merge — not just dev mode."

Replace this entire row with:
```tsx
<tr>
  <td className="py-3 px-4 align-top">
    <strong>react-markdown over a rich text editor</strong>
    <br />
    <span className="text-sm text-muted-foreground">for Markdown rendering</span>
  </td>
  <td className="py-3 px-4">
    Posts are stored as Markdown strings and rendered server-side. react-markdown
    with remark-gfm provides full GitHub Flavored Markdown support without client
    bundle cost. Shiki handles code blocks server-side via a singleton lazy-initialized
    highlighter — zero client JS for syntax highlighting on published post views.
  </td>
</tr>
```

**3. Results section — Features Delivered list (around line 365):**
Change:
`Markdown posts (Tiptap editor + SSR rendering)`
To:
`Markdown posts (react-markdown + Shiki server-side rendering)`

**4. Results section — Technologies list (around line 377):**
Change:
`Tiptap v3 rich text editor`
To:
`react-markdown + remark-gfm`

No other changes. Do not touch the architecture diagram, challenges, demo credentials, metric cards, or any other copy.
  </action>
  <verify>
    <automated>grep -c "Tiptap" /home/doctor/fernandomillan/apps/web/app/\(portfolio\)/projects/devcollab/page.tsx || echo "0 Tiptap references remain"</automated>
  </verify>
  <done>Zero occurrences of "Tiptap" remain in devcollab/page.tsx; "react-markdown" appears in the feature list, technical decisions table, and results technologies list</done>
</task>

<task type="auto">
  <name>Task 2: Verify build compiles cleanly after copy changes</name>
  <files>apps/web/app/(portfolio)/projects/devcollab/page.tsx</files>
  <action>
Run the Next.js TypeScript type check to confirm the edited file has no syntax errors. The file is JSX with no new imports needed — only string content changed.

Run from the monorepo root:
```bash
cd /home/doctor/fernandomillan && npx tsc --noEmit -p apps/web/tsconfig.json 2>&1 | grep "devcollab" || echo "No errors in devcollab page"
```

If errors are found, fix them before proceeding. Common issue: unclosed JSX tags from the table row replacement.
  </action>
  <verify>
    <automated>cd /home/doctor/fernandomillan && npx tsc --noEmit -p apps/web/tsconfig.json 2>&1 | grep -c "error TS" && echo "type errors found" || echo "clean"</automated>
  </verify>
  <done>TypeScript compiler reports zero errors in apps/web (or errors are pre-existing and unrelated to the edited file)</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `grep "Tiptap" apps/web/app/(portfolio)/projects/devcollab/page.tsx` returns no output (0 matches)
2. `grep "react-markdown" apps/web/app/(portfolio)/projects/devcollab/page.tsx` returns 2+ matches (feature list + technologies list)
3. TypeScript compilation passes for the portfolio app
</verification>

<success_criteria>
- CONT-01 satisfied: DevCollab case study copy is accurate — no false claims about Tiptap; react-markdown correctly described
- All actual shipped features remain listed (snippets, posts, reactions, notifications, FTS, RBAC)
- No new content invented — only corrections to match the actual deployed stack
</success_criteria>

<output>
After completion, create `.planning/phases/36-content-update/36-01-SUMMARY.md` using the summary template.
</output>
