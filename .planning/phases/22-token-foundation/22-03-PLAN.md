---
phase: 22-token-foundation
plan: "03"
type: execute
wave: 2
depends_on:
  - "22-01"
files_modified:
  - apps/web/components/portfolio/hero-section.tsx
  - apps/web/app/globals.css
  - apps/web/app/(portfolio)/page.tsx
  - apps/web/components/portfolio/project-card.tsx
autonomous: false
requirements:
  - FX-02
  - UX-01

must_haves:
  truths:
    - "A blinking underscore character appears after the hero tagline with no JavaScript — rendered via CSS ::after pseudo-element"
    - "The blinking cursor stops completely when OS Reduce Motion is active"
    - "Project cards display a Matrix green border glow on hover"
    - "Playwright visual regression snapshots pass after update (FX-02 and UX-01 are visible changes)"
  artifacts:
    - path: "apps/web/components/portfolio/hero-section.tsx"
      provides: "cursor-blink class on hero tagline paragraph"
      contains: "cursor-blink"
    - path: "apps/web/app/globals.css"
      provides: "cursor-blink keyframe + class + card-glow-hover class"
      contains: "cursor-blink"
    - path: "apps/web/app/(portfolio)/page.tsx"
      provides: "card-glow-hover class on homepage project card Link wrappers"
      contains: "card-glow-hover"
    - path: "apps/web/components/portfolio/project-card.tsx"
      provides: "card-glow-hover class on Link wrapper in reusable ProjectCard"
      contains: "card-glow-hover"
  key_links:
    - from: "apps/web/components/portfolio/hero-section.tsx"
      to: "apps/web/app/globals.css"
      via: "cursor-blink CSS class on <p> element"
      pattern: "cursor-blink"
    - from: "apps/web/app/(portfolio)/page.tsx"
      to: "apps/web/app/globals.css"
      via: "card-glow-hover CSS class on Link elements"
      pattern: "card-glow-hover"
    - from: "apps/web/components/portfolio/project-card.tsx"
      to: "apps/web/app/globals.css"
      via: "card-glow-hover CSS class on Link wrapper"
      pattern: "card-glow-hover"
---

<objective>
Implement the two pure-CSS effects: FX-02 (blinking terminal cursor after hero tagline) and UX-01 (Matrix green border glow on project card hover). Then update Playwright visual regression snapshots to accept the new visuals.

Purpose: These are the only user-visible changes in Phase 22. Both effects use the Matrix green tokens defined in Plan 01. The snapshot update is mandatory — without it the CI suite breaks on the next run.

Output: CSS keyframe + two utility classes in globals.css, class applied to hero tagline and all project card Link wrappers, updated Playwright snapshots.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-token-foundation/22-RESEARCH.md
@.planning/phases/22-token-foundation/22-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add cursor-blink and card-glow-hover CSS classes, apply to components</name>
  <files>
    apps/web/app/globals.css
    apps/web/components/portfolio/hero-section.tsx
    apps/web/app/(portfolio)/page.tsx
    apps/web/components/portfolio/project-card.tsx
  </files>
  <action>
    **Step A — globals.css additions:**

    After the `.animate-slide-in-up` block and BEFORE the `@media (prefers-reduced-motion: reduce)` block added in Plan 01, insert:

    ```css
    /* FX-02: Blinking terminal cursor after hero tagline */
    @keyframes cursor-blink {
      0%, 100% { opacity: 1; }
      50%       { opacity: 0; }
    }

    .cursor-blink::after {
      content: "_";
      display: inline-block;
      margin-left: 1px;
      animation: cursor-blink 1s steps(2, start) infinite;
      color: var(--matrix-green);
    }

    /* UX-01: Matrix green border glow on project card hover */
    .card-glow-hover {
      transition: box-shadow 0.2s ease;
    }

    .card-glow-hover:hover {
      box-shadow:
        0 0 0 1px var(--matrix-green),
        0 0 20px 0 var(--matrix-green-ghost),
        0 4px 24px 0 rgba(0, 255, 65, 0.15);
    }
    ```

    The reduced-motion rule at the end of globals.css (from Plan 01) already covers `.cursor-blink::after` — its `animation-duration: 0.01ms !important` will stop the blink. No additional reduced-motion logic needed here.

    **Step B — hero-section.tsx:**

    In `apps/web/components/portfolio/hero-section.tsx`, add `cursor-blink` to the tagline `<p>` element (the one with `text-muted-foreground` that contains "Specializing in Next.js..."):

    Change:
    ```tsx
    <p className="text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto mb-12">
    ```

    To:
    ```tsx
    <p className="cursor-blink text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto mb-12">
    ```

    **Step C — homepage page.tsx (inline project cards):**

    The homepage `apps/web/app/(portfolio)/page.tsx` has two inline `<Link>` elements with `className="block border-2 border-primary ..."`. Add `card-glow-hover` to BOTH and remove the conflicting `hover:shadow-xl transition-shadow` classes (the glow handles the hover state now):

    TeamFlow and DevCollab Links — updated className for both:
    ```tsx
    className="card-glow-hover block border-2 border-primary rounded-lg p-8 bg-gradient-to-br from-primary/5 to-transparent"
    ```

    **Step D — project-card.tsx (reusable ProjectCard component):**

    In `apps/web/components/portfolio/project-card.tsx`, update the `<Link>` wrapper and remove the card-level shadow classes:

    Change:
    ```tsx
    <Link href={href} className="block group">
      <Card className="transition-shadow hover:shadow-lg h-full">
    ```

    To:
    ```tsx
    <Link href={href} className="card-glow-hover block group">
      <Card className="h-full">
    ```

    Remove `transition-shadow hover:shadow-lg` from the Card — the glow is now on the Link wrapper. The `card-glow-hover` class handles both the transition and the hover state via `box-shadow`.
  </action>
  <verify>
    1. `npm run build --workspace apps/web` from repo root — must pass with zero errors
    2. Start dev server (`npm run dev --workspace apps/web`), visit `http://localhost:3000`
    3. Observe the underscore `_` blinking after the hero tagline paragraph — it should blink at ~1s interval
    4. Hover over the TeamFlow or DevCollab project card — a green border glow should appear
    5. Visit `http://localhost:3000/projects`, hover over ProjectCard components — same green glow
    6. Toggle OS Reduce Motion ON (macOS: System Settings > Accessibility > Display > Reduce Motion) — blinking cursor stops, cards show no transition
  </verify>
  <done>Blinking underscore cursor is visible after hero tagline. Project cards show Matrix green border glow on hover. Both effects stop under Reduce Motion. Build passes.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify FX-02 and UX-01 visuals before updating snapshots</name>
  <files>apps/web/e2e/portfolio/visual-regression.spec.ts</files>
  <action>
    Human verifies the visual effects are correct, then Claude runs:
    `npx playwright test e2e/portfolio/visual-regression.spec.ts --update-snapshots --config apps/web/playwright.config.ts`
    followed by the full suite to confirm all snapshots pass.
  </action>
  <verify>
    `npx playwright test e2e/portfolio/visual-regression.spec.ts --config apps/web/playwright.config.ts` passes all tests with no failures.
  </verify>
  <done>Human approved visuals. Playwright visual regression snapshots updated and all pass.</done>
  <what-built>
    FX-02 (blinking terminal cursor after hero tagline) and UX-01 (Matrix green card border glow on hover). Both effects are implemented via pure CSS using the Matrix green tokens from Plan 01. The dev server is running.
  </what-built>
  <how-to-verify>
    1. Visit `http://localhost:3000` — confirm the underscore `_` blinks after the tagline "Specializing in Next.js..."
    2. Hover over the TeamFlow card and DevCollab card on the homepage — confirm Matrix green border glow appears
    3. Visit `http://localhost:3000/projects` — hover over both ProjectCard components — confirm same green glow
    4. (Optional) Toggle OS Reduce Motion and confirm both effects stop completely
    5. Confirm no other visual changes on the page (tokens defined but `.matrix-theme` has no CSS rules — page should look identical to before except the cursor and card glow)

    Once visuals look correct, Claude will update Playwright snapshots. Type "approved" when ready, or describe any issues.
  </how-to-verify>
  <resume-signal>Type "approved" to proceed with snapshot update, or describe issues to fix first</resume-signal>
</task>

</tasks>

<verification>
After human approval, Claude runs snapshot update:

```bash
npx playwright test e2e/portfolio/visual-regression.spec.ts --update-snapshots --config apps/web/playwright.config.ts
```

Then runs full visual regression suite to confirm all snapshots pass:

```bash
npx playwright test e2e/portfolio/visual-regression.spec.ts --config apps/web/playwright.config.ts
```

All tests must pass (green). No test should fail — they were just updated.
</verification>

<success_criteria>
- Blinking `_` cursor visible after hero tagline via CSS `::after` pseudo-element
- Matrix green border glow on hover for all project cards (homepage inline cards + /projects ProjectCard components)
- Both effects stop when OS Reduce Motion is active
- Playwright visual regression suite passes after snapshot update
- `npm run build --workspace apps/web` exits 0
</success_criteria>

<output>
After completion, create `.planning/phases/22-token-foundation/22-03-SUMMARY.md`
</output>
