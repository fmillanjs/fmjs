---
phase: 28-devcollab-ui-debt-closure
plan: "03"
type: execute
wave: 2
depends_on:
  - "28-01"
  - "28-02"
files_modified: []
autonomous: false
requirements:
  - FIX-02
  - UI-01
  - UI-02
  - UI-03
  - UI-04
  - UI-05
  - UI-06

must_haves:
  truths:
    - "All Phase 28 requirements pass human visual verification in browser"
    - "Dashboard auth redirect confirmed working in browser"
    - "Members page fully functional with role change, remove, and invite link"
    - "Resume PDF downloads successfully from portfolio"
  artifacts:
    - path: "apps/devcollab-web/app/dashboard/page.tsx"
      provides: "Server component with auth guard"
      contains: "await cookies()"
    - path: "apps/devcollab-web/app/w/[slug]/members/page.tsx"
      provides: "Members page server component"
      contains: "MembersTable"
    - path: "apps/devcollab-web/components/members/MembersTable.tsx"
      provides: "Client component with full member management"
      contains: "window.location.origin"
    - path: "apps/web/public/resume.pdf"
      provides: "Real PDF file"
  key_links:
    - from: "browser /dashboard (unauthenticated)"
      to: "/login"
      via: "server redirect before HTML renders"
      pattern: "302/307 Location: /login"
    - from: "browser /w/[slug]/members"
      to: "devcollab-api /workspaces/:slug/members"
      via: "server-side fetch with cookie forwarding"
      pattern: "Cookie.*devcollab_token"
---

<objective>
Human visual verification of all Phase 28 deliverables: auth redirect, members page functionality, portfolio social links, and resume PDF download.

Purpose: Confirm all six UI requirements and the resume fix work correctly in a real browser before marking the phase complete.
Output: Phase 28 marked complete.
</objective>

<execution_context>
@/home/doctor/.claude/get-shit-done/workflows/execute-plan.md
@/home/doctor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-devcollab-ui-debt-closure/28-01-SUMMARY.md
@.planning/phases/28-devcollab-ui-debt-closure/28-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 1: Phase 28 Browser Verification</name>
  <files>N/A</files>
  <action>
    Open devcollab-web and the portfolio in a browser and run all 8 verification tests.

    **Test 1 — Dashboard auth redirect (UI-01):**
    1. Log out if currently logged in (visit /api/logout or clear cookies)
    2. Visit http://localhost:3001/dashboard directly
    3. Expected: Immediately redirected to /login — NO flash of blank content, NO workspace list renders momentarily
    4. Pass: URL changes to /login with no content flash. Fail: Any content briefly visible before redirect.

    **Test 2 — Members nav link (UI-06):**
    1. Log in to devcollab-web
    2. Navigate to any workspace (/w/devcollab-demo or similar)
    3. Expected: WorkspaceNav shows "Members" link alongside Overview/Posts/Snippets/Activity
    4. Pass: Members link visible. Fail: Link not present.

    **Test 3 — Members page list (UI-02):**
    1. Click the Members link in WorkspaceNav
    2. Expected: Page shows a table with Name, Email, Role columns. Current logged-in user has a "You" badge.
    3. Pass: Table renders with real member data and "You" badge. Fail: Empty table, error, or no "You" badge.

    **Test 4 — Role change (UI-03):**
    1. Find a member who is not the current user
    2. Change their role via the inline dropdown
    3. Refresh the page — role should persist
    4. Pass: Role persists after refresh. Fail: Role reverts to original after refresh.

    **Test 5 — Member removal (UI-04):**
    1. Find a non-Admin member's row (Remove button should be visible)
    2. Click Remove — confirm the confirmation dialog
    3. Refresh page — member should not be present
    4. Pass: Member gone after refresh. Fail: Member reappears, or Remove button absent for non-Admin members.

    **Test 6 — Invite link generation (UI-05):**
    1. Click "Generate Invite Link" button (Admin only)
    2. Expected: Modal appears with a URL in format http://localhost:3001/join?token=UUID
    3. Click Copy — clipboard receives the URL
    4. Click Regenerate — URL in modal changes to a new token
    5. Pass: URL uses web origin (localhost:3001), not API origin (localhost:3003). Fail: URL shows localhost:3003.

    **Test 7 — Resume PDF (FIX-02):**
    1. Open portfolio http://localhost:3000 and navigate to /resume
    2. Click "Download PDF" button
    3. Expected: Browser downloads a real PDF file
    4. Also visit /resume.pdf directly — should serve a PDF in browser
    5. Pass: Real PDF downloads. Fail: 404 error or HTML page.

    **Test 8 — Social links (portfolio):**
    1. Check footer — GitHub links to https://github.com/fmillanjs, LinkedIn replaced by CodeSignal
    2. Check hero section — "View GitHub" button links to https://github.com/fmillanjs
    3. Pass: All links corrected. Fail: Any link still points to old fernandomillan or linkedin.com.

    Type "approved" if all 8 tests pass, or describe which tests failed.
  </action>
  <verify>All 8 tests pass as described. User types "approved".</verify>
  <done>Human confirms: dashboard redirects to /login server-side, members page shows table with role management and invite link, resume PDF downloads, social links corrected.</done>
</task>

</tasks>

<verification>
All Phase 28 requirements verified by human in browser:
- FIX-02: /resume.pdf returns real PDF
- UI-01: /dashboard redirects to /login server-side with no content flash
- UI-02: Members page shows table with all workspace members
- UI-03: Role change persists after page refresh
- UI-04: Member removal persists after page refresh
- UI-05: Invite link modal shows correct URL (web origin, not API origin)
- UI-06: Members link in WorkspaceNav navigates to members page
</verification>

<success_criteria>
Human confirms all 8 browser tests pass. Phase 28 complete.
</success_criteria>

<output>
After completion, create `.planning/phases/28-devcollab-ui-debt-closure/28-03-SUMMARY.md`
</output>
